{"swagger":"2.0","info":{"title":"Payment Service","description":"Api for payment service.","version":"1.0.0"},"paths":{"\/api\/payment\/{paymentId}":{"get":{"parameters":[{"name":"paymentId","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Gets payment status.","schema":{"$ref":"#\/definitions\/GetPaymentStatusResponseDto"}}},"tags":["payments"]}},"\/api\/payment":{"post":{"parameters":[{"name":"params","in":"body","schema":{"$ref":"#\/definitions\/RegisterPaymentRequestDto"}}],"responses":{"201":{"description":"Registers payment.","schema":{"$ref":"#\/definitions\/RegisterPaymentResponseDto"},"headers":{"Location":{"description":"Location to process payment","type":"string"}}}},"tags":["payments"]}},"\/api\/payment\/{paymentId}\/process":{"get":{"parameters":[{"name":"paymentId","in":"path","required":true,"type":"string"},{"name":"return","in":"query","description":"Return URL where to redirect user after payment process. If not provided HTTP Referer will be used.","type":"string"}],"responses":{"200":{"description":"Follows the payment processing. Displays the page or does a redirect to off-site flows."}},"tags":["payments"]}},"\/api\/payment\/{paymentId}\/callback":{"get":{"parameters":[{"name":"paymentId","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Payment processing callback url for gateways."}},"tags":["payments callback"]},"post":{"parameters":[{"name":"paymentId","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"Payment processing callback url for gateways."}},"tags":["payments callback"]}}},"definitions":{"GetPaymentStatusResponseDto":{"properties":{"paymentId":{"type":"string"},"status":{"type":"string","enum":["NEW","IN_PROCESS","WAITING_FOR_FINAL_CONFIRMATION","COMPLETED_SUCCESS","COMPLETED_FAILURE"]}},"type":"object"},"RegisterPaymentResponseDto":{"properties":{"paymentId":{"type":"string"}},"type":"object"},"RegisterPaymentRequestDto":{"properties":{"amount":{"example":123.45,"type":"number","format":"float"},"currency":{"title":"Currency in ISO 4217","example":"PLN","type":"string"},"description":{"type":"string"},"sourceSystem":{"type":"string"},"paymentType":{"example":"transfer","type":"string"}},"type":"object"}}}